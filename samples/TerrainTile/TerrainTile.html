<html>

<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<script type="text/javascript" src="../../medea/medea.core.js"></script>
<script type="text/javascript">

function run() {

	medea.Ready("canvas",{dataroot:'../../data'},['debug','keycodes'],function() {
		var vp1 = medea.CreateViewport();
		vp1.SetClearColor([1.0,1.0,1.0]);
     
        var root = medea.RootNode();
		medea.FetchMods(['terraintile'], function() {
			medea.CreateTerrainTileMesh('remote:terraintile_sample/heightmap_256.png',
				medea.CreateSimpleMaterialFromTexture('remote:labyrinth_sample/floor_texture.jpg'),
				function(mesh) {
				
					root.AddChild().Translate([-128,10,-128]).AddEntity(mesh);
				}
			);
		});
        
		// add the skydome, as in the previous sample
		medea.FetchMods('skydome',function() {
			root.AddChild(medea.CreateSkydomeNode('remote:skydome_sample/midmorning/midmorning.png',0.4));
        });
		
		// and a plain camera controller
		medea.FetchMods('camcontroller',function() {
			var cam = medea.CreateCamera();
			root.AddChild().AddEntity(cam);
			vp1.SetCamera(cam);
			
			cam.parent.Translate(vec3.create([0,25,5]));
			
			var cc = medea.CreateCamController(cam,'fps');
			cc.Enable();
		});
        
		medea.SetDebugPanel(null,true);
		medea.Start();
	});
}

</script>

</head>


<body onload="run();">
Press ENTER to toggle scene.   (Skydome from  http://www.tutorialsforblender3d.com/Textures/Skys/Sky_Dome_1.html, free for non-commercial use; Heightmap from Wikipedia, Public Domain)

    <canvas id="canvas" style="border: none;" width="1024" height="768"></canvas>

    <br/>
    

</body>

</html>
